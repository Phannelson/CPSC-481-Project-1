# CPSC 481-05, Semester 1, Project 1

Problem formulation

Problem:
To create a set of semester-wise course combinations selected by a student i.e. the degree course-plan. Our aim is to suggest semester-wise course combinations that:
Ensure completion of credits in a timely manner.
Do not overload the student with too many difficult courses in a semester.
Take the course pre-requisites into consideration.

State:
A state for the above problem will be a set of 3 or 4 courses taken in a semester. The limit of 3-4 courses is defined to ensure reasonable workload and to avail slots for other courses, while ensuring a reasonable completion time of the entire course-plan.

Initial state:
Initial state is the current completed courses of the student. The student may have already completed several courses (e.g., a student in the 4th semester) or may have completed 0 courses (e.g., a student starting the first semester). We will consider a student who has completed 0 courses because the state space generated will account for all other students who have completed certain courses.

Goal state:
A goal state is reached when the total number of credits completed by the student is equal to 81.

Action:
Given a state ‘s’ ( a set of courses that the student has recently completed), Action(s) will return sets of various combinations of 3-5 courses from the available list of courses. Available courses are those which
Have no prerequisites OR
Have completed prerequisites AND
Have not been completed in a previous semester.
Result:
Given a state ‘s’ and an action ‘a’, Result (s,a) will return a single set of 3-5 courses from the states generated by ‘action’. Furthermore:
It will mark the chosen courses as ‘completed’ so that they are excluded from the next level and new courses (of which they were a pre-requisite) are made available, thus generating a new list of available courses.
The total credits of a given division (lower, upper, elective etc) will be evaluated to ensure that more courses are not considered from those divisions.
The total credits of all completed courses will be evaluated to check if the goal state has been reached/how many credits remain for reaching the goal state.


Solution

Approach
Subject: 

Build semester plan: 
Using the list of available courses (list built upon creation of current node) several combinations of 3-5 courses will be built. Each combination corresponds to a unique semester plan and is therefore 1 node.
The range of 3-4 courses is chosen so that we have course plans that leave at least one slot open  for courses other than core computer science courses.
Creation of node will also include
Updating list of available courses, by adding courses with satisfied pre-requisites and subtracting courses completed in current node
Updating total division credits (for upper division only, since lower division and math requirements are all pre-requisites)
updating completed credits
Credits to completion: take the value of credits to completion from parent node, subtract credits completed in the current node. 
Consider the following example,
Example: Courses available  for sem 1: {120A,253,170A,150A}
Courses chosen (or completed) in sem 1: {120A, 253, 170A}
New courses opened up:{121A, 170B}
Updated list of available courses= {120A,253,170A,150A} - {120A, 253, 170A}+{121A, 170B}
                                                          = {150A,121A,170B}
Lower division units: 6 units
Total upper division units: 0		(since none of the courses belong to upper division)
Math requirements: 3 units
Credits to completion: Total units (81) -Units completed in current sem (9)= 72
For nth semester, credits to completion will be calculated as:
		Units to completion for (n-1)th sem-Units completed in nth sem
		or more appropriately,
		(Units to completion)parent node- (Units completed)current node

Calculating the “cost” of choosing a semester plan and the “heuristic” to graduation .

There are two parameters across which a given course plan can be rated: no. of units completed  and the overall workload of the course plan.
We will rate the workload of a course on a scale of 1-5, with 1 being the least workload and 5 being the most.
Courses available for sem 1-
Available courses
Workload rating
No of units
120A
2
3
253
3
3
170A
3
3
150A
4
4


It is desirable to have a higher number of completed units, as this would imply that no. of units to be completed are lesser, which signifies that the node is more likely to be closer to a goal node. It is also desirable to have a lower workload, so that the semester can be completed with ease. The weights are assigned so that completion of units is given a slightly higher priority than the workload per semester.
Calculation of path-cost to current node from previous node:
g(n)=(Units completed)*.55+(Total workload rating of all completed courses)*0.45
Calculation of heuristic from current node to goal node: 
h(n)=(Units to completion)*0.55+(Total minimum workload to completion)*0.45
Since minimum workload rating for a course is 1, and the max units per course is 4
Total minimum workload to completion=Minimum number of courses*1
Therefore, Total minimum workload to completion=(Units to completion/4)*1
Assuming all courses have the highest possible credit and the lowest possible workload gives us the lowest possible total minimum workload. This will ensure that our heuristic is admissible, since it will be less than or equal to the least actual path cost.  
Therefore, h(n)=(Units to completion)*0.6625 

INSERT EXAMPLE HERE.

Code layout

Individual elements of a state:
A single state corresponds to a combination of courses i.e individual elements of each state is a single course.
Each course will defined as a class variable, and will contain the following data of the course
- No. of units:					{3,4}
- Workload:					{1,2,3,4,5}
- Pre-requisites:					{Courses which are a pre-req. of this course}
- Availability:					{True, False}
- Completed:					{True, False}
- Division:					{Upper, Lower, Math req.}
- Pre-req_of:					{Courses of which this course is a pre-req.}

Creation of a state:
Consider a function Sem_builder, that will be responsible for selecting a combination of courses. It will do the following things:
Consider the {Available courses} list for a node and create combinations of 3-4 courses. Each combination will be the child node for the current node.
Create a {chosen courses} list for all child nodes.
Note: If we build course combinations directly from the available course list, the number of course combinations can be very large for some instances. To simplify this we can,

For each semester, define how many courses should appear in each combination
treat all same level courses as 1 chunk, and create a number of slots in which 300 or 400 level courses will appear. Thus, instead of creating a specific course combination, we will create combinations like “1 300 level course, 3 400 level courses, 1 GE or Math elective” or “2 300 level courses, 1 400 level course, 2 GE or math electives”, and the user will be responsible for choosing appropriate number of courses from each category. In this case, we will assume all same level courses to have the same workload rating.
Choose the 3 or 4 easiest available courses. In this case, workload can be assigned individually to all courses.

Another function, say Sem_evaluator will do the following things:
Set the “Completed” flag to “True” for all courses in {chosen courses}
Set the “Available” flag to “True” for all courses whose all {Pre-requisites} have “Completed=true”.
Update {Available Courses} list taken from parent by removing “Completed=True” courses and adding “Available=True” courses, and assign the list to the current node.
Update Total completed credits and total division-wise credits
Calculate path cost  and heuristic of the node.
